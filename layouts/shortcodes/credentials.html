<section id="credentials" class="resume-section">
  <div class="resume-section-content">

    <!-- === Certifications (vendor exams with expiry) === -->
    <h2 id="certifications">Certifications</h2>
    {{- $certs := (index site.Data "certifications") -}}
    {{- if gt (len $certs) 0 -}}
      {{- $sorted := sort $certs "date" "desc" -}}
      <div class="education-list">
        {{- range $sorted }}
          <div class="mb-4">

            <!-- ROW 1: Title (wraps) + Date (right) -->
            <div class="d-flex flex-nowrap justify-content-between align-items-start">
              <div class="flex-grow-1 pe-3">
                <strong class="d-block" style="margin:0">{{ .title }}</strong>
              </div>
              <div class="text-muted text-end flex-shrink-0" style="white-space:nowrap">
                {{- $start := .date -}}
                {{- $end   := .expires -}}
                {{- $now   := now -}}
                {{- $sds := $start -}}
                {{- if eq (len $start) 7 }}{{ $sds = printf "%s-01" $start }}{{ else if eq (len $start) 4 }}{{ $sds = printf "%s-01-01" $start }}{{ end -}}
                {{- $sout := (time $sds) | time.Format "01-2006" -}}
                {{- $eout := "" -}}
                {{- if $end -}}
                  {{- $eds := $end -}}
                  {{- if eq (len $end) 7 }}{{ $eds = printf "%s-01" $end }}{{ else if eq (len $end) 4 }}{{ $eds = printf "%s-01-01" $end }}{{ end -}}
                  {{- $endTime := time $eds -}}
                  {{- if not ($endTime.After $now) -}}{{- $eout = $endTime | time.Format "01-2006" -}}{{- end -}}
                {{- end -}}
                {{- if $eout -}}{{ $sout }} - {{ $eout }}{{- else -}}{{ $sout }} - Present{{- end -}}
              </div>
            </div>

            <!-- ROW 2: Subtitle (optional, full width) -->
            {{- with .subtitle -}}
              <div class="text-muted" style="margin-top:.2rem">{{ . }}</div>
            {{- end -}}

            <!-- ROW 3: Meta line (issuer • ID • link) -->
            <div class="text-muted" style="margin-top:.2rem">
              {{- $printed := false -}}
              {{- with .issuer -}}{{ . }}{{ $printed = true }}{{- end -}}
              {{- with .id -}}{{ if $printed }} • {{ end }}ID: {{ . }}{{ $printed = true }}{{- end -}}
              {{- with .url -}}
                {{ if $printed }} • {{ end }}
                <a href="{{ . }}" target="_blank" rel="noopener" class="text-decoration-none" style="display:inline;margin:0;padding:0;line-height:inherit">link</a>
                {{- $printed = true -}}
              {{- end -}}
            </div>

            <!-- ROW 4: Notes (optional, full width) -->
            {{- with .notes -}}
              {{- $note := trim . " ()" -}}
              {{- if $note -}}<div class="text-muted" style="margin-top:.2rem">{{ $note }}</div>{{- end -}}
            {{- end -}}

          </div>
        {{- end }}
      </div>
    {{- end }}

    <!-- === Certificates (short completions) === -->
    <h2 id="certificates">Certificates</h2>
    {{- $certifs := (index site.Data "certificates") -}}
    {{- if gt (len $certifs) 0 -}}
      <div class="education-list">
        {{- range sort $certifs "date" "desc" }}
          <div class="mb-4">

            <!-- ROW 1: Title (wraps) + Date (right) -->
            <div class="d-flex flex-nowrap justify-content-between align-items-start">
              <div class="flex-grow-1 pe-3">
                <strong class="d-block" style="margin:0">{{ .title }}</strong>
              </div>
              <div class="text-muted text-end flex-shrink-0" style="white-space:nowrap">
                {{- with .date -}}
                  {{- $raw := . -}}
                  {{- $ds := $raw -}}
                  {{- if eq (len $raw) 7 }}{{ $ds = printf "%s-01" $raw }}{{ else if eq (len $raw) 4 }}{{ $ds = printf "%s-01-01" $raw }}{{ end -}}
                  {{- (time $ds) | time.Format "01-2006" -}}
                {{- end -}}
              </div>
            </div>

            <!-- ROW 2: Subtitle (optional) -->
            {{- with .subtitle -}}
              <div class="text-muted" style="margin-top:.2rem">{{ . }}</div>
            {{- end -}}

            <!-- ROW 3: Meta line (issuer • link) -->
            <div class="text-muted" style="margin-top:.2rem">
            {{- $printed := false -}}
            {{- $issuer := or .issuer .provider -}}
            {{- with $issuer -}}{{ . }}{{ $printed = true }}{{- end -}}
            {{- with .url -}}{{ if $printed }} • {{ end }}<a href="{{ . }}" target="_blank" rel="noopener" class="text-decoration-none" style="display:inline;margin:0;padding:0;line-height:inherit">link</a>{{- end -}}
            </div>

          </div>
        {{- end }}
      </div>
    {{- end }}

    <!-- === Courses (trainings/workshops) === -->
    <h2 id="courses">Courses</h2>
    {{- $courses := (index site.Data "courses") -}}
    {{- if gt (len $courses) 0 -}}
      <div class="education-list">
        {{- range sort $courses "date" "desc" }}
          <div class="mb-4">

            <!-- ROW 1: Title (wraps) + Date (right) -->
            <div class="d-flex flex-nowrap justify-content-between align-items-start">
              <div class="flex-grow-1 pe-3">
                <strong class="d-block" style="margin:0">{{ .title }}</strong>
              </div>
              <div class="text-muted text-end flex-shrink-0" style="white-space:nowrap">
                {{- with .date -}}
                  {{- $raw := . -}}
                  {{- $ds := $raw -}}
                  {{- if eq (len $raw) 7 }}{{ $ds = printf "%s-01" $raw }}{{ else if eq (len $raw) 4 }}{{ $ds = printf "%s-01-01" $raw }}{{ end -}}
                  {{- (time $ds) | time.Format "01-2006" -}}
                {{- end -}}
              </div>
            </div>

            <!-- ROW 2: Subtitle (optional) -->
            {{- with .subtitle -}}
              <div class="text-muted" style="margin-top:.2rem">{{ . }}</div>
            {{- end -}}

            <!-- ROW 3: Meta line (issuer • hours • link • badge) -->
            <div class="text-muted" style="margin-top:.2rem;color:#9591a0 !important">
            {{- $printed := false -}}
            {{- $issuer := or .issuer .provider -}}
            {{- with $issuer -}}{{ . }}{{ $printed = true }}{{- end -}}
            {{- with .hours -}}{{ if $printed }} • {{ end }}{{ . }}h{{ $printed = true }}{{- end -}}
            {{- with .url -}}
                {{ if $printed }} • {{ end }}
                <a href="{{ . }}" target="_blank" rel="noopener" class="text-decoration-none"
                style="display:inline;margin:0;padding:0;line-height:inherit">link</a>
                {{- $printed = true -}}
            {{- end -}}
            {{- with .badge -}}
                {{ if $printed }} • {{ end }}
                <a href="{{ . }}" target="_blank" rel="noopener" class="text-decoration-none"
                style="display:inline;margin:0;padding:0;line-height:inherit">badge</a>
                {{- $printed = true -}}
            {{- end -}}
            </div>

          </div>
        {{- end }}
      </div>
    {{- end }}

  </div>
</section>
